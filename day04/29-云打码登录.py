# Author:wjw
# Development date: 2024/10/9
import requests
from fake_useragent import UserAgent
from day04.yzm_util import get_code
def get_image():
    img_url = 'data:image/png;base64,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'
    response = session.get(img_url, headers=headers)
    with open('yzm.ipg', 'wb') as f:
        f.write(response.content)
    code = get_code('yzm.jpg')
    return code
def do_login(code):
    log_url = 'https://console.jfbym.com/index/member/login.html'
    f_data = {
        "phone":"12345678900",
        "password":"fjaiejfa",
        "utype":"1",
        "vcode":code
    }
    response = session.get(log_url, headers=f_data)
    print(response.text)

if __name__ == '__main__':
    session = requests.Session()
    index_url = 'https://console.jfbym.com/login/?domain=https%3A%2F%2Fwww.jfbym.com'
    headers = {
        "User-Agent":UserAgent().random
    }
    response = session.get(index_url, headers=headers)
    code = get_image()
    do_login(code)